<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tasks - Desk Study</title>
    <link rel="stylesheet" href="styles/variables.css">
    <link rel="stylesheet" href="styles/shared.css">
    <link rel="stylesheet" href="styles/tasks.css">
    <script type="module" src="scripts/tasks.js"></script>
</head>

<body>
    <nav class="main-nav">
        <a href="index.html" class="logo"><img src="styles/images/sdlogo.svg" alt="Site Logo"></a>
        <div class="nav-links">
            <a href="index.html">Home</a>
            <a href="tasks.html" class="active">Tasks</a>
            <a href="timer.html">Timer</a>
            <a href="tunes.html">Tunes</a>
        </div>
    </nav>

    <div class="page-content">
        <div class="tasks-page">
            <!-- Left panel: Due Today -->
            <aside class="tasks-due-today">
                <h2 class="due-today-title">Due Today</h2>
                <ul class="due-today-list" aria-label="Tasks due today">
                    <!-- Populated by JS -->
                </ul>
                <p class="due-today-more" hidden></p>
            </aside>

            <!-- Right panel: Add task + groups -->
            <main class="tasks-main">
                <div class="add-group-wrap">
                    <button type="button" class="add-group-btn" id="addGroupBtn" aria-haspopup="dialog" aria-expanded="false">Add Group +</button>
                </div>
                <div class="task-groups" id="taskGroups">
                    <!-- Group cards populated by JS -->
                </div>
            </main>
        </div>
    </div>

    <!-- Entity modal: add group, subgroup, or task -->
    <div class="modal" id="entityModal" role="dialog" aria-modal="true" aria-labelledby="modalTitle" aria-describedby="modalDesc" hidden>
        <div class="modal-backdrop" id="modalBackdrop"></div>
        <div class="modal-content">
            <h2 class="modal-title" id="modalTitle">Add</h2>
            <p class="modal-desc" id="modalDesc">Fill in the details below.</p>
            <form class="add-task-form" id="entityForm" novalidate>
                <div id="modalFields">
                    <!-- Fields populated by JS based on context (group, subgroup, task) -->
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn-cancel" id="modalCancel">Cancel</button>
                    <button type="submit" class="btn-add-task" id="modalSubmit">Add</button>
                </div>
            </form>
        </div>
    </div>

    <footer class="site-footer">
        Study Desk &copy; 2026
    </footer>
</body>

</html>
